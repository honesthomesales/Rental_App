(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[137],{9137:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var r,l,u,a,o,i,c=n(7573),s=n(7653);let f=(0,s.createContext)(null),p=f.Provider;function d(){let e=(0,s.useContext)(f);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var m=n(3598),g=n.n(m);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let y=(0,s.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:l,id:u,placeholder:a,style:o,whenReady:i,zoom:c,...f},d){let[g]=(0,s.useState)({className:l,id:u,style:o}),[y,x]=(0,s.useState)(null);(0,s.useImperativeHandle)(d,()=>y?.map??null,[y]);let b=(0,s.useCallback)(r=>{if(null!==r&&null===y){let l=new m.Map(r,f);null!=n&&null!=c?l.setView(n,c):null!=e&&l.fitBounds(e,t),null!=i&&l.whenReady(i),x(Object.freeze({__version:1,map:l}))}},[]);(0,s.useEffect)(()=>()=>{y?.map.remove()},[y]);let v=y?s.createElement(p,{value:y},r):a??null;return s.createElement("div",h({},g,{ref:b}),v)});var x=n(3458);function b(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function v(e,t){return null==t?function(t,n){let r=(0,s.useRef)();return r.current||(r.current=e(t,n)),r}:function(n,r){let l=(0,s.useRef)();l.current||(l.current=e(n,r));let u=(0,s.useRef)(n),{instance:a}=l.current;return(0,s.useEffect)(function(){u.current!==n&&(t(a,n,u.current),u.current=n)},[a,n,r]),l}}function j(e,t){let n=(0,s.useRef)(t);(0,s.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function w(e,t){let n=(0,s.useRef)();(0,s.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function C(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function O(e){return function(t){var n;let r=d(),l=e(C(t,r),r);return j(r.map,t.attribution),w(l.current,t.eventHandlers),n=l.current,(0,s.useEffect)(function(){return(r.layerContainer??r.map).addLayer(n.instance),function(){r.layerContainer?.removeLayer(n.instance),r.map.removeLayer(n.instance)}},[r,n]),l}}let I=(r=O(v(function({url:e,...t},n){return b(new m.TileLayer(e,C(t,n)),n)},function(e,t,n){!function(e,t,n){let{opacity:r,zIndex:l}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=l&&l!==n.zIndex&&e.setZIndex(l)}(e,t,n);let{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)})),(0,s.forwardRef)(function(e,t){let{instance:n}=r(e).current;return(0,s.useImperativeHandle)(t,()=>n),null})),E=(l=O(v(function({position:e,...t},n){var r;let l=new m.Marker(e,t);return b(l,(r={overlayContainer:l},Object.freeze({...n,...r})))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),(0,s.forwardRef)(function(e,t){let{instance:n,context:r}=l(e).current;return(0,s.useImperativeHandle)(t,()=>n),null==e.children?null:s.createElement(p,{value:r},e.children)})),L=(u=function(e,t){return b(new m.Popup(e,t.overlayContainer),t)},a=function(e,t,{position:n},r){(0,s.useEffect)(function(){let{instance:l}=e;function u(e){e.popup===l&&(l.update(),r(!0))}function a(e){e.popup===l&&r(!1)}return t.map.on({popupopen:u,popupclose:a}),null==t.overlayContainer?(null!=n&&l.setLatLng(n),l.openOn(t.map)):t.overlayContainer.bindPopup(l),function(){t.map.off({popupopen:u,popupclose:a}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(l)}},[e,t,r,n])},o=v(u),i=function(e,t){let n=d(),r=o(C(e,n),n);return j(n.map,e.attribution),w(r.current,e.eventHandlers),a(r.current,n,e,t),r},(0,s.forwardRef)(function(e,t){let[n,r]=(0,s.useState)(!1),{instance:l}=i(e,r).current;(0,s.useImperativeHandle)(t,()=>l),(0,s.useEffect)(function(){n&&l.update()},[l,n,e.children]);let u=l._contentNode;return u?(0,x.createPortal)(e.children,u):null}));function R(e){let{properties:t}=e,n=(0,s.useRef)(null),r=t.length>0?[t.reduce((e,t)=>e+(t.latitude||0),0)/t.length,t.reduce((e,t)=>e+(t.longitude||0),0)/t.length]:[39.8283,-98.5795];return(0,s.useEffect)(()=>{if(n.current&&t.length>0){let e=g().latLngBounds(t.map(e=>[e.latitude,e.longitude]));n.current.fitBounds(e,{padding:[20,20]})}},[t]),(0,c.jsxs)(y,{center:r,zoom:10,style:{height:"100%",width:"100%"},ref:n,children:[(0,c.jsx)(I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map(e=>(0,c.jsx)(E,{position:[e.latitude,e.longitude],children:(0,c.jsx)(L,{children:(0,c.jsxs)("div",{className:"p-2",children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,c.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.address}),(0,c.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[e.city,", ",e.state]}),e.monthly_rent&&(0,c.jsxs)("p",{className:"text-sm font-medium text-green-600",children:["$",e.monthly_rent.toLocaleString(),"/mo"]}),e.property_type&&(0,c.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:e.property_type})]})})},e.id))]})}n(9261),delete g().Icon.Default.prototype._getIconUrl,g().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"})},9261:function(){}}]);